<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      let shoppingCart = {
        cart: [],
        add(product, count) {
          this.cart.push({ product: product, count: count });
        },

        getTotalPrice() {
          let sum = 0;
          this.cart.forEach((item) => (sum += item.product.price * item.count));
          return sum;
        },
      };

      let shoppingDataBase = {
        products: [
          { name: 'Paper', price: 10 },
          { name: 'Binder', price: 20 },
          { name: 'Pen', price: 30 },
        ],
        add: function (name, proce) {
          this.products.push({ name: name, price: price });
        },
        remove: function (name) {
          let product = this.products.filter((x) => x.name == name)[0];
          let index = this.indexOf(product);
          this.products.splice(index, 1);
        },
      };
      let uiController = {
        display: function (message) {
          console.log(message);
        },

        displayList: function (list, messageTemplateFn) {
          list.forEach((x) => this.display(messageTemplateFn(x)));
        },

        promptNumber: function (message) {
          return +prompt(message);
        },

        promptByList: function (list, messageTemplateFn) {
          return list.map((element) =>
            this.promptNumber(messageTemplateFn(element))
          );
        },
      };

      // app:
      //uiController.displayList(
       // shoppingDataBase.products,
      //  (x) => `${x.name} = ${x.price} UAH`
     // );

      let productCount = uiController.promptByList(
        shoppingDataBase.products,
        (x) => `${x.name} = ${x.price} UAH`
      );

      console.log(productCount);

      shoppingDataBase.products.forEach((p, index) => {
        shoppingCart.add(p, productCount[index]);
      });

      let total = shoppingCart.getTotalPrice();
      console.log(total);
    </script>
  </body>
</html>
